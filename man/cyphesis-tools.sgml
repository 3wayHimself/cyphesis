<refentry id="cyphesis-tools">

 <refmeta>
  <refentrytitle>cyphesis-tools</refentrytitle>
  <manvolnum>1</manvolnum>
 </refmeta>

 <refnamediv>
  <refname>cyconfig, cyconvertrules, cyloadrules, cypasswd</refname>
  <refpurpose>cyphesis tools</refpurpose>
 </refnamediv>

 <refsynopsisdiv>
  <cmdsynopsis>
   <command>/usr/bin/cyconfig</command>
   <arg choice="opt" rep="repeat">--section:option=value</arg>
  </cmdsynopsis>
  <cmdsynopsis>
   <command>/usr/bin/cyconvertrules</command>
   <arg choice="req">rule_file</arg>
  </cmdsynopsis>
  <cmdsynopsis>
   <command>/usr/bin/cyloadrules</command>
   <arg choice="opt">rulesetname atlas-xml-file</arg>
  </cmdsynopsis>
  <cmdsynopsis>
   <command>/usr/bin/cypasswd</command>
   <arg choice="opt" rep="repeat">--section:option=value</arg>
  </cmdsynopsis>
 </refsynopsisdiv>

 <refsect1><title>Description</title>
  <para>
The cyphesis tools manage the data and configuration files used by cyphesis.
  </para>
  <para>
The <command>cyconfig</command> program provides an easy scriptable way to
make permanent changes to the server config from the command line.
It works by writing new config options to <filename>.cyphesis.vconf</filename>
in the users home directory, which is read by the server at startup,
and overrides the contents of the main config file. For a description of
the various options that the server takes, please see 
<citerefentry><refentrytitle>cyphesis</refentrytitle><manvolnum>1</manvolnum>
</citerefentry>.
  </para>
  <para>
The <command>cyconvertrules</command> program converts Atlas XML rules files
from an older historic format into the format used by cyphesis since
version 0.3.1.
  </para>
  <para>
The <command>cyloadrules</command> loads Atlas XML rules files into the
database table used by the server. The rules table is read by the
server at startup, so a server restart is typically required after loading
rules. <command>cyloadrules</command> can either load the file given on
the command line, or if none is specified it will load the rule file for
the ruleset specified in the server config, and any rule files it depends on.
  </para>
 </refsect1>
 <refsect1><title>Options</title>
  <para>
Configuration options are divided up into named sections, which need to
be specified when modifying or overriding the options. In a config file
the name of a section is specified in square brackets at the beginning
of the section. On the command line the section is given at the
beginning of the option specification, as shown in the synopsis above.
  </para>
  <refsect2><title>Client Options</title>
   <para>
The following options are present in the client section of the config file,
and overriden by specifying the client section name on the command line.
   </para>
   <variablelist>

    <varlistentry>
     <term><fieldsynopsis>
       <varname>package</varname>
       <initializer>="define_world"</initializer>
      </fieldsynopsis>
     </term>
     <listitem>
      <para>
Python package which contains the client function.
      </para>
      <para>
This setting provides the name of the Python package which contains the
function that should run by the client.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><fieldsynopsis>
       <varname>function</varname>
       <initializer>="default"</initializer>
      </fieldsynopsis>
     </term>
     <listitem>
      <para>
Python client function.
      </para>
      <para>
This setting provides the Python function which should be run by the client.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </refsect2>

  <refsect2><title>Server Options</title>
   <para>
The following options are present in the cyphesis section of the config
file, and overriden by specifying the cyphesis section name on the
command line. These options apply to the server, but are also required
by the client to ensure that the client can connect.
   </para>
   <variablelist>
    <varlistentry>
     <term><fieldsynopsis>
       <varname>tcpport</varname>
       <initializer>=6767</initializer>
      </fieldsynopsis>
     </term>
     <listitem>
      <para>
Network listen port for TCP connections.
      </para>
      <para>
Specifies the port number to use to listen for incoming client connections.
      </para>
     </listitem>
    </varlistentry>
  </refsect2>
 </refsect1>
</refentry>
